
 <html>
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">

   <title>Design the building and make the payment</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    label, input {
      margin: 5px;
    }

    svg {
      width: 100%;
      height: 400px;
      border: 2px solid #333;
      background-color: #f0f0f0;
    }

    .room {
      stroke: #000;
      stroke-width: 2;
      fill: #cce5ff;
    }

    .label {
      font-size: 14px;
      fill: #000;
      text-anchor: middle;
      pointer-events: none;
    }

    .connector {
      stroke: #333;
      stroke-width: 2;
    }
  </style>
  </head>
  <body>
       <nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Hare Krisna</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        {% if current_user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="">{{current_user.username}}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/diagram">show diagram</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/logout">logout</a>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link" href="/register">register</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/login">Login</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
<h2>üè† Desin the building and make the payment</h2>

<form id="layoutForm" method="POST" >
  <div class="list">
  <li><h5>price for desining Room=‚Çπ 1000</h5></li>
  <li><h5>price for desining Dinning Room=‚Çπ 500</h5></li>
  <li><h5>price for desining Wash Room=‚Çπ200</h5></li>
  </div>
  <label>Rooms:</label>
  <input type="number" id="rooms" name="room" min="1" max="5">
  <label>Dining:</label>
  <input type="number" id="dining"  name="dinning" min="0" max="2">
  <label>Washrooms:</label>
  <input type="number" id="washrooms"  name="washroom" min="0" max="2">
<svg id="canvas"></svg>
  <button type="submit" class="btn btn-primary">print Bill</button>
  </form>
<script>
document.getElementById('layoutForm').addEventListener('submit', function(e) {
  e.preventDefault();  // stop the form for now

  const roomCount = parseInt(document.getElementById('rooms').value);
  const diningCount = parseInt(document.getElementById('dining').value);
  const washroomCount = parseInt(document.getElementById('washrooms').value);

  const canvas = document.getElementById('canvas');
  canvas.innerHTML = '';

  const boxWidth = 120;
  const boxHeight = 80;
  const gap = 40;
  const startX = 50;
  const centerY = 150;

  let x = startX;
  let lastCenter = null;

  function drawRoom(label) {
    canvas.innerHTML += `
      <rect class="room" x="${x}" y="${centerY}" width="${boxWidth}" height="${boxHeight}" />
      <text class="label" x="${x + boxWidth / 2}" y="${centerY + boxHeight / 2 + 5}">${label}</text>
    `;

    if (lastCenter !== null) {
      canvas.innerHTML += `
        <line class="connector" x1="${lastCenter + boxWidth}" y1="${centerY + boxHeight / 2}"
              x2="${x}" y2="${centerY + boxHeight / 2}" />
      `;
    }

    lastCenter = x;
    x += boxWidth + gap;
  }

  // Draw SVG layout
  for (let i = 0; i < roomCount; i++) drawRoom("Room " + (i + 1));
  for (let i = 0; i < diningCount; i++) drawRoom("Dining " + (i + 1));
  for (let i = 0; i < washroomCount; i++) drawRoom("Washroom " + (i + 1));

  // ‚úÖ Submit the form to Flask after drawing
  setTimeout(() => {
    e.target.submit();  // manually submit after delay
  }, 500);  // wait 0.5 seconds to show SVG
});
</script>

  </body>
  </html>